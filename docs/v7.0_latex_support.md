# Version 7.0 - LaTeX/MathText Unterst√ºtzung

## Neue Features in Version 7.0

### 1. LaTeX/MathText-Formatierung f√ºr Legenden

Die Legende unterst√ºtzt jetzt flexible Text-Formatierung mit einer einfachen Markdown-√§hnlichen Syntax und vollst√§ndiger MathText-Unterst√ºtzung.

#### Einfache Formatierung

- **Fettdruck**: `**Text**` ‚Üí $\mathbf{Text}$
- **Kursiv**: `*Text*` ‚Üí $\mathit{Text}$

#### Mathematische Symbole

Alle Matplotlib MathText-Symbole werden unterst√ºtzt:

- Griechische Buchstaben: `$\alpha$, $\beta$, $\gamma$` ‚Üí Œ±, Œ≤, Œ≥
- Hochgestellt: `$q^2$` ‚Üí q¬≤
- Tiefgestellt: `$H_2O$` ‚Üí H‚ÇÇO
- Operatoren: `$\pm$, $\times$, $\cdot$` ‚Üí ¬±, √ó, ¬∑

#### Beispiele

```
**Messung** mit $\alpha$
*Fit* f√ºr $q^2$
$I \cdot q^4$ (**Porod**)
Protein bei $T=25¬∞C$ (**stabil**)
```

### Verwendung im Legenden-Editor

1. **√ñffnen Sie den Legenden-Editor**: Men√º ‚Üí Plot ‚Üí Legenden-Editor
2. **W√§hlen Sie einen Eintrag** aus der Liste
3. **Bearbeiten Sie den Anzeigenamen** mit der neuen Syntax
4. **Vorschau**: Die Vorschau zeigt eine Approximation des Ergebnisses
5. **Syntax-Hilfe**: Klicken Sie auf "üìñ LaTeX/MathText Syntax-Hilfe" f√ºr Details

### Technische Details

#### MathText vs. echtes LaTeX

Diese Implementierung nutzt Matplotlib's MathText-Engine:

- **Vorteil**: Keine LaTeX-Installation erforderlich
- **Vorteil**: Schnelles Rendering
- **Vorteil**: Plattformunabh√§ngig
- **Einschr√§nkung**: Subset von LaTeX-Befehlen

#### Unterst√ºtzte MathText-Befehle

- Schriftstile: `\mathbf{...}`, `\mathit{...}`, `\mathrm{...}`
- Griechische Buchstaben: `\alpha`, `\beta`, `\gamma`, `\delta`, `\theta`, `\lambda`, `\mu`, `\pi`, `\sigma`
- Operatoren: `\pm`, `\mp`, `\times`, `\div`, `\cdot`
- Hoch-/Tiefstellung: `^`, `_`
- Br√ºche: `\frac{a}{b}`
- Wurzeln: `\sqrt{x}`, `\sqrt[n]{x}`

### Kombinationen mit Checkboxen

Die Checkboxen "Fett" und "Kursiv" im Editor funktionieren weiterhin:

- **Checkbox-Methode**: Einfach f√ºr Nutzer ohne LaTeX-Kenntnisse
- **Syntax-Methode**: Mehr Kontrolle, Teilformatierung m√∂glich

**Empfehlung**: F√ºr teilweise formatierte Eintr√§ge (z.B. "**Messung** mit $\alpha$") nutzen Sie die Syntax im Text. F√ºr komplett fett/kursiv nutzen Sie die Checkboxen.

### Implementierungs-Details

#### Neue Dateien

- `utils/mathtext_formatter.py`: MathText-Preprocessing und Formatierungs-Funktionen
- `test_mathtext.py`: Umfassende Tests f√ºr die Formatierung
- `docs/v7.0_latex_support.md`: Diese Dokumentation

#### Ge√§nderte Dateien

- `dialogs/legend_editor_dialog.py`:
  - Syntax-Hilfe-Button hinzugef√ºgt
  - Live-Vorschau implementiert
  - Import der MathText-Funktionen

- `scatter_plot.py`:
  - Version auf 7.0-dev aktualisiert
  - Import der MathText-Formatierung
  - Legenden-Rendering nutzt jetzt `format_legend_text()`
  - Vereinfachte nachtr√§gliche Formatierung (nur noch Font-Familie)

### Beispiel-Workflow

1. Laden Sie Ihre Daten
2. √ñffnen Sie den Legenden-Editor (Ctrl+L ab v7.0)
3. W√§hlen Sie einen Eintrag
4. √Ñndern Sie den Namen z.B. zu: `**SAXS** Messung bei $q^{-1}$`
5. Die Vorschau zeigt: **SAXS** Messung bei q‚Åª¬π
6. Klicken Sie OK
7. Der Plot zeigt die formatierte Legende

### Zuk√ºnftige Erweiterungen

Diese LaTeX-Unterst√ºtzung ist geplant f√ºr:

- ‚úÖ **Legende** (v7.0) - IMPLEMENTIERT
- ‚è≥ **Annotations** (v7.0) - Geplant
- ‚è≥ **Achsenbeschriftungen** (v7.0) - Geplant
- ‚è≥ **Titel** (v7.x) - Sp√§ter

---

*Version 7.0-dev | LaTeX/MathText Support | 2025*
